---
ansible_python_interpreter: "/usr/local/bin/python3"
repo:
  registry: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    31386436356439326639366637663363663563666461326635613235373362613366343164306336
    6636653331383337346265393763313765646332333438380a393233366661376336303765396632
    35633962366434646337363262633234386439383138353033643164626633623330363438363039
    3831303933376137660a613063653334306631636663643638353431396635613139303237656365
    31396162616632653835336630356238636138333465366535613330656661356136

vault:
  ca: "sample.pem"
  url: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    32393030376464333534383835646530396162383733396538623931643233353063633265323737
    6438373061343737323661303939303831386532306434300a323332636564653033353334306563
    39616132373532633436346666666565616133623164303461653138663538303334376631356631
    3130626337636335610a326362643933636633656365353833643835663439313931393161396430
    33323263653339653363333930313264383633353530636262623334646334373863383461363131
    6561646436653333636534336238393737666163313032326131
  role_id: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    32323366353562323835303461663362373962306661663036313934636164643665363135663239
    6634633436653038303965373337643635326462656339620a323661663038643564653238626563
    61636264323830353865313465653064346563323835323037313939613762383232343262316532
    3061653833656532360a626435323138313164373338393239633766323237666439313262303263
    33313938653938663563373434643233313437363337656164386430646633646266306238346538
    3035303063386463353439333334346130363761376563313339
  secret_id: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    33643832326639633863366338386237336434333830303233353832393464653432303234386562
    6261326365623133663535656337663431343934663934660a363162316263376631366536353634
    32383736646431313036333232376131626438346133373038366330623866646337383339383964
    3336346636356664330a383638656534353335613963396534383964633932313930303433656561
    63343335633030633662646536346531353532353965616338303936363062313266653931383361
    6338633331356231343139323939303165646130343735623536
  keysToRetrieve:
    - {
        key: "username",
        path: "shared/data/all/acr-credentials/maerskao/username:username",
      }
    - {
        key: "password",
        path: "shared/data/all/acr-credentials/maerskao/password:password",
      }

deploy:
  imageTag: "0.0.1"
  containerPort: "80"
  name: "my_nginx_sample"
  stage: "{{ env_variable }}"

image:
  tag: "{{ deploy.imageTag }}"
  name: "{{ repo.registry }}/{{ deploy.name }}"

portBinds:
  #  - '{{ deploy.healthPort }}:{{ deploy.healthPort }}'
  - "{{ deploy.containerPort }}:{{ deploy.containerPort }}"

portsToCheck:
  #  - '{{ deploy.healthPort }}'
  - "{{ deploy.containerPort }}"
