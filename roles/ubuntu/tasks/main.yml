---
# tasks file for roles/ubuntu main
- name: Add Kubernetes apt signing key
  ansible.builtin.include_tasks: aptKey.yml

- name: Add Kubernetes apt reposity
  ansible.builtin.include_tasks: aptRepository.yml

- name: Swapfile processes
  ansible.builtin.include_role:
    name: kubernetes
    tasks_from: swap

# - name: Update Ubuntu packages
#  ansible.builtin.include_tasks: update.yml

- name: Install kubernetes packages on Ubuntu
  ansible.builtin.include_tasks: installPackages.yml

- name: Install Containerd packages on Ubuntu
  ansible.builtin.include_tasks: containerd.yml

- name: Prerequisites for kubernetes
  ansible.builtin.include_role:
    name: kubernetes

